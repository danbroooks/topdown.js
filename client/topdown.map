{"version":3,"file":"topdown.js","sources":["..\\client-js\\fn.js","..\\client-js\\fn.is.js","..\\client-js\\obj.js","..\\client-js\\dom.js","..\\client-js\\onload.js","..\\client-js\\game.js"],"names":["topdown","fn","wrap","number","rand","oneIn","num","Math","ceil","random","fromArray","array","r","floor","length","Array","prototype","forEach","T","k","this","TypeError","kValue","O","Object","len","toString","call","callback","arguments","thisArg","is","type","obj","classToType","str","class2type","[object Boolean]","[object Number]","[object String]","[object Function]","[object Array]","[object Date]","[object RegExp]","[object Object]","String","function","isArray","in_array","needle","haystack","i","window","numeric","isNaN","parseFloat","isFinite","string","plainObject","nodeType","hasOwn","hasOwnProperty","constructor","e","key","undefined","set","undef","a","l","Error","indexOf","id","nextIdIn","hasDontEnumBug","propertyIsEnumerable","dontEnums","dontEnumsLength","keys","result","prop","push","extend","options","name","src","copy","copyIsArray","clone","target","deep","construct","initializer","methods","func","create","that","apply","Actor","components","identifier","seed","m","chunk","_id","mod","digits","d","abs","p","DOM","self","html5elements","audioSupport","mp3","ogg","audio","document","createElement","canPlayType","extractTag","tag","match","RegExp","exec","selectors","buildAttributes","attrs","multipleElements","classes","selector","input","replace","charAt","console","log","substring","isLegalElement","splice","make","append","appendto","properties","att","setAttribute","onload","onreadystatechange","shift","n","$class","classList","add","get","appendChild","elements","selected","slice","getElementById","getElementsByClassName","getElementsByTagName","on","action","each","addEventListener","hide","style","display","show","first","html","value","innerHTML","attr","removeAttr","removeAttribute","css","property","styles","getAttribute","game","init"],"mappings":"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"}