require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({dE1Bu5:[function(a,b){var c,d=(a("is"),a("core/gameConfig")),e=a("objects/Timer"),f={};f.__defineGetter__("fps",function(){return c.secondsElapsed()}),f.__defineGetter__("config",function(){return d});var g=0,h={current:0,previous:0,last:0,value:function(){var a=(this.current+this.previous+this.last)/3;return a=Math.floor(10*a)/10},set:function(a){this.last=this.previous,this.previous=this.current,this.current=a}};f.__defineGetter__("fps",function(){return h.value()});var i=function(){f.beforeInit(),d.setUp(),f.afterInit(),c=e(),j(),setInterval(k,50)};f.__defineGetter__("init",function(){return i}),f.beforeInit=function(){},f.afterInit=function(){},f.render=function(){};var j=function(){h.set(1e3/c.delta()),f.render(c.delta()),g++,requestAnimationFrame(j)};f.update=function(){};var k=function(){f.update()};b.exports=f},{"core/gameConfig":"/JRJU7",is:"P9m7US","objects/Timer":"y3F4VZ"}],"core/game":[function(a,b){b.exports=a("dE1Bu5")},{}],"/JRJU7":[function(a,b){var c=a("is"),d=a("dom"),e=a("graphics/gfx"),f={},g=[];f.removeCanvas=function(){};var h;f.__defineGetter__("primaryCanvas",function(){return h}),f.__defineSetter__("primaryCanvas",function(a){c.inArray(a,g)||g.push(a),h=a}),f.setPrimaryCanvas=function(a){f.primaryCanvas=a};var i=!1;f.setUp=function(){return i?(console.log("gameConfig.setUp has already run."),!1):(g.forEach(function(a){var b="canvas#"+a;e.pushCanvas(a,d.make(b))}),void(i=!0))},b.exports=f},{dom:"qkALfs","graphics/gfx":"fc2DQ5",is:"P9m7US"}],"core/gameConfig":[function(a,b){b.exports=a("/JRJU7")},{}],qkALfs:[function(a,b){var c=a("is"),d={},e=["html","body","script","div","span","object","h1","h2","h3","h4","h5","h6","p","blockquote","pre","abbr","address","cite","code","del","dfn","em","img","ins","kbd","q","samp","small","strong","sub","sup","var","b","i","dl","dt","dd","ol","ul","li","fieldset","form","label","legend","table","caption","tbody","tfoot","thead","tr","th","td","article","aside","canvas","details","figcaption","figure","footer","header","hgroup","menu","nav","section","summary","iframe","time","mark","audio","video","link","input"],f=function(a){return c.inArray(a,e)},g={mp3:!1,ogg:!1};!function(){var a=document.createElement("audio");a.canPlayType&&(g.mp3=""!==a.canPlayType("audio/mpeg"),g.ogg=""!==a.canPlayType('audio/ogg; codecs="vorbis"'))}();var h=function(a){var b=new RegExp(/^([a-zA-Z]*)([#.\-a-zA-Z]*)/).exec(a);return{name:b[1],selectors:b[2]}},i=function(a,b,c){a=a||{};for(var d,e=[];null!==(b=new RegExp(/^([#|.][\-a-zA-Z]+)/).exec(b));){var f=b[0];b=b.input.replace(f,""),"#"==f.charAt(0)?c?console.log("An id should be unique to one element!"):d?console.log("An element should only have a maximum of one id!"):d=f.substring(1):"."==f.charAt(0)&&e.push(f.substring(1))}return{id:d,classes:e}};d.splice=Array.prototype.splice,d.make=function(a,b,e){function g(a,b){var c,e=a[0],f=document.createElement(j.name);e.appendto&&(c=e.appendto,delete e.appendto);for(var h in e)e.hasOwnProperty(h)&&f.setAttribute(h,e[h]);f.onload=f.onreadystatechange=function(){a.shift(),a.length?g(a,b):b()},m&&(f.id=m);for(var i=0;$class=n[i];i++)f.classList.add($class);return c=c||"body",d.get(c)[0].appendChild(f)}var j=h(a);if(b=b||{},!f(j.name))throw new Error('Illegal tag name "'+j.name+'" passed to topdown.DOM.make');var k=c.Array(b)?b:[b],l=k.length>1;e=e||function(){},b=i(b,j.selectors,l);var m=b.id,n=b.classes;return g(k,e)},d.get=function(a){var b,c=[];if(a&&"string"==typeof a)if("#"===a.charAt(0)){b=a.slice(1);var d=document.getElementById(b);c=d?[d]:[]}else"."===a.charAt(0)?(b=a.slice(1),c=document.getElementsByClassName(b)):c=document.getElementsByTagName(a);return this.splice(0),Array.prototype.push.apply(this,c),this},d.each=function(a){for(var b=0;b<this.length;b++)a(this[b]);return this},d.on=function(a,b){return d.each(function(c){c.addEventListener(a,b)}),this},d.hide=function(){return d.each(function(a){a.style.display="none"}),this},d.show=function(){return d.each(function(a){a.style.display=""}),this},d.first=function(){return this.splice(1),this},d.html=function(a){return d.each(function(b){b.innerHTML=a}),this},d.attr=function(a,b){return d.each(function(c){c.setAttribute(a,""+b)}),this},d.removeAttr=function(a){return d.each(function(b){b.removeAttribute(a)}),this},d.css=function(a,b){d.each(function(d){var e=d.getAttribute("style")||"";b+=c.Numeric(b)?"px":"",d.setAttribute("style",e+" "+a+": "+b+";")})},b.exports=d},{is:"P9m7US"}],dom:[function(a,b){b.exports=a("qkALfs")},{}],AEEx6z:[function(a,b){var c={};c.wrap=function(a,b){return(a%b+b)%b},c.randNum=function(a){return Math.ceil(Math.random()*a)%a},c.chanceIn=function(a){return c.randNum(a)?!1:!0},c.fromArray=function(a){var b=c.chanceIn(a.length);return a[b]},b.exports=c},{}],fn:[function(a,b){b.exports=a("AEEx6z")},{}],"graphics/Point":[function(a,b){b.exports=a("07NHAF")},{}],"07NHAF":[function(a,b){var c=a("obj"),d=c.define(Object,function(a,b){var c={};a=a||{},b?(c.x=a,c.y=b):2==a.length?(c.x=a[0],c.y=a[1]):(c.x=a.x||0,c.y=a.y||0),this.x=c.x,this.y=c.y},{rotate:function(a,b){if(!1==a instanceof d)throw new Error("You can only rotate a point around another Point.");var c=Math.cos(b),e=Math.sin(b),f={x:this.x-a.x,y:this.y-a.y},g={x:f.x*c-f.y*e,y:f.x*e+f.y*c};this.x=g.x+a.x,this.y=g.y+a.y},add:function(a,b){if(!1==a instanceof d)throw new Error("You can only add a another Point to Point object.");if(b){var c=this.x+a.x,e=this.y+a.y;return d(c,e)}return this.x+=a.x,this.y+=a.y,this},sub:function(a,b){if(!1==a instanceof d)throw new Error("You can only subtract a another Point to Point object.");if(b){var c=this.x-a.x,e=this.y-a.y;return d(c,e)}return this.x-=a.x,this.y-=a.y,this},invert:function(){return d(-this.x,-this.y)}});b.exports=d},{obj:"DOFYxp"}],S3SzPy:[function(a,b){var c=a("obj"),d=a("graphics/Shape"),e=c.define(d,function(a){a=a||{}},{inShot:function(){return!0},render:function(){},move:function(){},teleport:function(){},rotate:function(){},setAngle:function(){},pointInPolygon:function(){},detectCollision:function(){},getLineIntersectionPoint:function(){},doesLineIntersect:function(a,b,c,d){return this.getLineIntersectionPoint(a,b,c,d)!==!1},centroid:function(){},area:function(){}});b.exports=e},{"graphics/Shape":"rB+uTR",obj:"DOFYxp"}],"graphics/Polygon":[function(a,b){b.exports=a("S3SzPy")},{}],"rB+uTR":[function(a,b){var c=a("obj"),d=c.define(Object,function(){throw new Error("This class isn't meant for direct instantiation")},{stroke:"698796",fill:"132132",angle:2*Math.PI,inShot:function(){return!1},render:function(){}});b.exports=d},{obj:"DOFYxp"}],"graphics/Shape":[function(a,b){b.exports=a("rB+uTR")},{}],k68hkO:[function(a,b){var c=a("graphics/gfx"),d=a("graphics/Point"),e={},f=d([0,0]);e.get=function(){return{x:f.x,y:f.y}},e.modX=function(a){return a-f.x},e.modY=function(a){return a-f.y},e.move=function(a){f.add(a)},e.set=function(a){f.add(a.sub(f))},e.offset=function(a){return a.add(f,!0)},e.noffset=function(a){return a.sub(f,!0)},e.pointInShot=function(a){var b=e.noffset(a),d=c.getCanvasSize();return b.x<0||b.x>d.x||b.y<0||b.y>d.y?!1:!0},e.track=function(){},b.exports=e},{"graphics/Point":"07NHAF","graphics/gfx":"fc2DQ5"}],"graphics/camera":[function(a,b){b.exports=a("k68hkO")},{}],fc2DQ5:[function(a,b){var c,d,e,f=(a("is"),a("graphics/Point")),g={},h={};g.pushCanvas=function(a,b){h[a]=b},g.setCanvas=function(a){c=a?h[a]:c,e=d=c?c.getContext("2d"):void 0},g.cling=function(a){a&&g.setCanvas(a),c&&(c.width=window.innerWidth,c.height=window.innerHeight)},g.clearContext=function(a){a=a||d,a&&a.clearRect(0,0,c.width,c.height)},g.getContext=function(){return d},g.getCanvasSize=function(){return c?{x:c.width,y:c.height}:void 0},g.getCanvasCenter=function(){if(c){var a=g.getCanvasSize();return f([a.x/2,a.y/2])}},g.render=function(){},g.loadImage=function(a,b){var c=new Image;return c.src=a,b&&(c.onload=b),c},g.text=function(a,b){d.fillStyle="FFFFFF",d.fillText(a,b.x-25,b.y+5)},g.refresh=!0,b.exports=g},{"graphics/Point":"07NHAF",is:"P9m7US"}],"graphics/gfx":[function(a,b){b.exports=a("fc2DQ5")},{}],"graphics/trig":[function(a,b){b.exports=a("HKUJiZ")},{}],HKUJiZ:[function(){},{}],is:[function(a,b){b.exports=a("P9m7US")},{}],P9m7US:[function(a,b){var c={};c.Type=function(a){function b(a){var b={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},c=b[a];return c?c:!1}return null===a?String(a):b({}.toString.call(a))||"object"},c.Array=Array.isArray||function(a){return"array"===c.Type(a)},c.Function=function(a){return"function"===c.Type(a)},c.inArray=function(a,b){for(var c=b.length,d=0;c>d;d++)if(b[d]==a)return!0;return!1},c.Window=function(a){return null!==a&&a==a.window},c.Numeric=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},c.String=function(a){return"string"==c.Type(a)},c.set=function(){var a,b=arguments,c=b.length,d=0;if(0===c)throw new Error("Empty is.set");for(;d!==c;){if(b[d]===a||null===b[d])return!1;d++}return!0},c.PlainObject=function(a){if(!a||"object"!==this.type(a)||a.nodeType)return!1;var b=Object.prototype.hasOwnProperty;try{if(a.constructor&&!b.call(a,"constructor")&&!b.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return void 0===d||b.call(a,d)},b.exports=c},{}],obj:[function(a,b){b.exports=a("DOFYxp")},{}],DOFYxp:[function(a,b){var c=a("is"),d={};d.indexOf=function(a,b){for(var c=0;c<b.length;c++)if(b[c].id==a)return c},d.nextIdIn=function(a){return a.length>0?a[a.length-1].id+1:1};var e=hasOwnProperty||Object.prototype.hasOwnProperty,f=(Object.prototype.toString,!{toString:null}.propertyIsEnumerable("toString")),g=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=g.length;d.keys=function(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on non-object");var b=[];for(var c in a)e.call(a,c)&&b.push(c);if(f)for(var d=0;h>d;d++)e.call(a,g[d])&&b.push(g[d]);return b},d.extend=function(){var a,b,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||c.Function(h)||(h={}),j===i&&(h=this,--i),i;j>i;i++)if(null!==(a=arguments[i]))for(b in a)d=h[b],e=a[b],h!==e&&(k&&e&&(c.PlainObject(e)||(f=c.Array(e)))?(f?(f=!1,g=d&&c.Array(d)?d:[]):g=d&&c.PlainObject(d)?d:{},h[b]=extend(k,g,e)):void 0!==e&&(h[b]=e));return h},d.define=function(a,b,c){var e,f=Object.create(a&&a.prototype);return c&&d.keys(c).forEach(function(a){f[a]=c[a]}),e=function(){var a=Object.create(f);return"function"==typeof b&&b.apply(a,arguments),a},d.keys(a).forEach(function(b){e[b]=a[b]}),e.prototype=f,f.constructor=e,e},d.identifier=function(a){var b,c,d,e,f=6;b=1;for(var g=0;f>g;g++)b*=16;a||0===a||(a=Math.floor(Math.random()*b)),a=a>=b?b-1:0>a?Math.abs(a):a,a%2&&(a=b-a),c=a%16,c=Math.abs((c%2?7:0)+Math.floor(c/2)),a+=b/16*c,a%=b,e=b/16/16;for(var h=0;3>h;h++)a+=(a%16+h)*e,p=4-h,a+=(a%256+5*p)*e,p%=2,a+=(a%16+7*p)*e,e/=16;for(a%=b,d=a.toString(16);d.length<6;)d="0"+d;return d},b.exports=d},{is:"P9m7US"}],y3F4VZ:[function(a,b){var c=a("obj"),d=c.define(Object,function(){},{start:(new Date).getTime(),restart:function(){this.start=(new Date).getTime()},elapsed:function(){return(new Date).getTime()-this.start},secondsElapsed:function(){return Math.floor(this.elapsed()/100)/10},lastDelta:void 0,delta:function(){this.lastDelta||(this.lastDelta=this.start);var a=(new Date).getTime(),b=a-this.lastDelta;return this.lastDelta=a,b}});d.str2ms=function(a){if("string"==typeof a){var b,c,d;return b="ms"==a.substring(a.length-2),c=a.substring(a.length-1),d=parseInt(a.replace(/[^0-9]/g,""),10),number="number"!=typeof d||isNaN(d)?0:d,a="m"!=c||b?"s"!=c||b?number:1e3*number:1e3*number*60}},b.exports=d},{obj:"DOFYxp"}],"objects/Timer":[function(a,b){b.exports=a("y3F4VZ")},{}],onload:[function(a,b){b.exports=a("+KSpms")},{}],"+KSpms":[function(a){var b=a("dom"),c=a("core/game");window.onload=function(){b.make("script",{src:"script.min.js",type:"text/javascript"},function(){c.init()})}},{"core/game":"dE1Bu5",dom:"qkALfs"}],poly:[function(a,b){b.exports=a("vARtDh")},{}],vARtDh:[function(){Array.prototype.forEach||(Array.prototype.forEach=function(){"use strict";var a,b;if(null===this)throw new TypeError("this is null or not defined");var c,d=Object(this),e=d.length>>>0;if("[object Function]"!=={}.toString.call(callback))throw new TypeError(callback+" is not a function");for(arguments.length>=2&&(a=thisArg),b=0;e>b;)b in d&&(c=d[b],callback.call(a,c,b,d)),b++});for(var a=0,b=["ms",";","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})},{}]},{},["vARtDh","+KSpms","AEEx6z","P9m7US","DOFYxp","qkALfs","y3F4VZ","dE1Bu5","/JRJU7","HKUJiZ","07NHAF","rB+uTR","S3SzPy","fc2DQ5","k68hkO"]);
//# sourceMappingURL=topdown.min.map