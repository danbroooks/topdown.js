require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({"core/GameConfig":[function(a,b){b.exports=a("h5AJ9p")},{}],h5AJ9p:[function(a,b){var c=(a("is"),a("obj")),d=a("graphics/Graphics"),e=function(){this.gfx=d()},f={};f.createCanvas=function(a){this.gfx.createCanvas(a)},f.addCanvas=f.createCanvas,f.setPrimaryCanvas=function(a){this.gfx.setPrimaryCanvas(a)},f.addPrimaryCanvas=function(a){this.createCanvas(a),this.setPrimaryCanvas(a)},f.addCamera=function(a){this.gfx.addCamera(a)},f.setCamera=function(a){this.gfx.setCamera(a)},f.addPrimaryCamera=function(a){this.addCamera(a),this.setCamera(a)},f.setUp=function(a){return this.setUp.hasRun?(console.log("gameConfig.setUp has already run."),!1):(a.setGraphicsObject(this.gfx),void(this.setUp.hasRun=!0))},f.setUp.hasRun=!1;var g=c.define(Object,e,f);b.exports=g},{"graphics/Graphics":"mC3JHL",is:"P9m7US",obj:"DOFYxp"}],"core/game":[function(a,b){b.exports=a("dE1Bu5")},{}],dE1Bu5:[function(a,b){var c,d=(a("is"),a("core/GameConfig")),e=a("objects/Timer"),f={};f.__defineGetter__("config",function(){return c});var g;f.__defineGetter__("time",function(){return g.secondsElapsed()});var h;f.setGraphicsObject=function(a){h||(h=a)};var i={current:0,previous:0,last:0,value:function(){var a=(this.current+this.previous+this.last)/3;return a=Math.floor(10*a)/10},set:function(a){this.last=this.previous,this.previous=this.current,this.current=1e3/a}};f.__defineGetter__("fps",function(){return i.value()});var j=0;f.__defineGetter__("tick",function(){return j});var k=function(){c=d(),f.beforeInit(c),c.setUp(this),f.afterInit(h),g=e(),l(),setInterval(m,50)};f.__defineGetter__("init",function(){return k}),f.beforeInit=function(){},f.afterInit=function(){},f.render=function(){};var l=function(){var a=g.delta();i.set(a),f.render(a,h),j++,requestAnimationFrame(l)};f.update=function(){};var m=function(){f.update(h)};b.exports=f},{"core/GameConfig":"h5AJ9p",is:"P9m7US","objects/Timer":"y3F4VZ"}],dom:[function(a,b){b.exports=a("qkALfs")},{}],qkALfs:[function(a,b){var c=a("is"),d={},e=["html","body","script","div","span","object","h1","h2","h3","h4","h5","h6","p","blockquote","pre","abbr","address","cite","code","del","dfn","em","img","ins","kbd","q","samp","small","strong","sub","sup","var","b","i","dl","dt","dd","ol","ul","li","fieldset","form","label","legend","table","caption","tbody","tfoot","thead","tr","th","td","article","aside","canvas","details","figcaption","figure","footer","header","hgroup","menu","nav","section","summary","iframe","time","mark","audio","video","link","input"],f=function(a){return c.inArray(a,e)},g={mp3:!1,ogg:!1};!function(){var a=document.createElement("audio");a.canPlayType&&(g.mp3=""!==a.canPlayType("audio/mpeg"),g.ogg=""!==a.canPlayType('audio/ogg; codecs="vorbis"'))}();var h=function(a){var b=new RegExp(/^([a-zA-Z]*)([#.\-a-zA-Z]*)/).exec(a);return{name:b[1],selectors:b[2]}},i=function(a,b,c){a=a||{};for(var d,e=[];null!==(b=new RegExp(/^([#|.][\-a-zA-Z]+)/).exec(b));){var f=b[0];b=b.input.replace(f,""),"#"==f.charAt(0)?c?console.log("An id should be unique to one element!"):d?console.log("An element should only have a maximum of one id!"):d=f.substring(1):"."==f.charAt(0)&&e.push(f.substring(1))}return{id:d,classes:e}};d.splice=Array.prototype.splice,d.make=function(a,b,e){function g(a,b){var c,e=a[0],f=document.createElement(j.name);e.appendto&&(c=e.appendto,delete e.appendto);for(var h in e)e.hasOwnProperty(h)&&f.setAttribute(h,e[h]);f.onload=f.onreadystatechange=function(){a.shift(),a.length?g(a,b):b()},m&&(f.id=m);for(var i=0;$class=n[i];i++)f.classList.add($class);return c=c||"body",d.get(c)[0].appendChild(f)}var j=h(a);if(b=b||{},!f(j.name))throw new Error('Illegal tag name "'+j.name+'" passed to topdown.DOM.make');var k=c.Array(b)?b:[b],l=k.length>1;e=e||function(){},b=i(b,j.selectors,l);var m=b.id,n=b.classes;return g(k,e)},d.get=function(a){var b,c=[];if(a&&"string"==typeof a)if("#"===a.charAt(0)){b=a.slice(1);var d=document.getElementById(b);c=d?[d]:[]}else"."===a.charAt(0)?(b=a.slice(1),c=document.getElementsByClassName(b)):c=document.getElementsByTagName(a);return this.splice(0),Array.prototype.push.apply(this,c),this},d.each=function(a){for(var b=0;b<this.length;b++)a(this[b]);return this},d.on=function(a,b){return d.each(function(c){c.addEventListener(a,b)}),this},d.hide=function(){return d.each(function(a){a.style.display="none"}),this},d.show=function(){return d.each(function(a){a.style.display=""}),this},d.first=function(){return this.splice(1),this},d.html=function(a){return d.each(function(b){b.innerHTML=a}),this},d.attr=function(a,b){return d.each(function(c){c.setAttribute(a,""+b)}),this},d.removeAttr=function(a){return d.each(function(b){b.removeAttribute(a)}),this},d.style=function(a,b){d.each(function(d){var e=d.getAttribute("style")||"";b+=c.Numeric(b)?"px":"",d.setAttribute("style",e+" "+a+": "+b+";")})},d.css=d.style,b.exports=d},{is:"P9m7US"}],AEEx6z:[function(a,b){var c={};c.wrap=function(a,b){return(a%b+b)%b},c.randNum=function(a){return Math.ceil(Math.random()*a)%a+1},c.chanceIn=function(a){return 1==c.randNum(a)?!1:!0},c.fromArray=function(a){var b=c.randNum(a.length);return a[b]},b.exports=c},{}],fn:[function(a,b){b.exports=a("AEEx6z")},{}],NsksZx:[function(a,b){var c=a("obj"),d=a("graphics/Point"),e=function(a,b){this.position=d(a,b)},f={};f.get=function(){return{x:this.position.x,y:this.position.y}},f.modX=function(a){return a-this.position.x},f.modY=function(a){return a-this.position.y},f.move=function(a){this.position.add(a)},f.set=function(a){this.position.add(a.sub(this.position))},f.offset=function(a){return a.add(this.position,!0)},f.noffset=function(a){return a.sub(this.position,!0)};var g=c.define(Object,e,f);b.exports=g},{"graphics/Point":"07NHAF",obj:"DOFYxp"}],"graphics/Camera":[function(a,b){b.exports=a("NsksZx")},{}],gCPbFZ:[function(a,b){var c=a("obj"),d=a("dom"),e=a("graphics/Point"),f=(a("graphics/Shape"),a("graphics/Camera")),g=function(a){var b="canvas#"+a;this.canvas=d.make(b)},h={};h.camera=void 0,h.useCamera=function(a){a instanceof f&&(this.camera=a)},h.setCamera=h.useCamera,h.cling=function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight},h.clearContext=function(){var a=this.canvas,b=this.getContext();b&&b.clearRect(0,0,a.width,a.height)},h.clear=h.clearContext,h.getContext=function(){return this.canvas.getContext("2d")},h.getCanvasSize=function(){var a=this.canvas;return{x:a.width,y:a.height}},h.getCanvasCenter=function(){var a=this.getCanvasSize();return e([a.x/2,a.y/2])},h.text=function(a,b){var c=this.getContext();c&&(c.fillStyle="FFFFFF",c.fillText(a,b.x-25,b.y+5))},h.drawPoints=function(a,b,c){if(!this.inShot(a))return!1;b=b||"#FFFFFF",c=c||"#FFFFFF";var d=this.getContext(),e=this.camera;for(d.fillStyle=b,d.strokeStyle=c,d.beginPath(),i=0;i<a.length;i++){var f=a[i],g=i?"lineTo":"moveTo";d[g](e.modX(f.x),e.modY(f.y))}d.closePath(),d.fill(),d.stroke()},h.draw=h.drawPoints,h.inShot=function(a){var b=this.getCanvasSize(),c=this.camera,d=c.modX;mody=c.modY;for(var e={x:{lt:!0,gt:!0,min:d(0),max:d(b.x)},y:{lt:!0,gt:!0,min:mody(0),max:mody(b.y)}},f=0;f<a.length;f++){if(a[f].inShot())return!0;var g=a[f];e.x.lt=e.x.lt&&g.x<e.x.min?!0:!1,e.x.gt=e.x.gt&&g.x>e.x.max?!0:!1,e.y.lt=e.y.lt&&g.y<e.y.min?!0:!1,e.y.gt=e.y.gt&&g.y>e.y.max?!0:!1}return e.x.lt||e.y.lt||e.x.gt||e.y.gt?!1:!0};var j=c.define(Object,g,h);b.exports=j},{dom:"qkALfs","graphics/Camera":"NsksZx","graphics/Point":"07NHAF","graphics/Shape":"rB+uTR",obj:"DOFYxp"}],"graphics/Canvas":[function(a,b){b.exports=a("gCPbFZ")},{}],"graphics/Collision":[function(a,b){b.exports=a("8SM2KA")},{}],"8SM2KA":[function(a,b){var c=a("obj"),d=a("is"),e=a("graphics/Vector"),f=a("graphics/Point"),g=function(a,b){if(!d.instanceOf(e,a)||!d.instanceOf(e,b))throw new Error("Collision constructor takes two Vector objects.");this.vectorA=a,this.vectorB=b},h={};h.polygonContainsPoint=function(){},h.getIntersectionPoint=function(){var a,b,c,d,e=this.vectorA,g=this.vectorB;a=e.b.x-e.a.x,b=e.b.y-e.a.y,c=g.b.x-g.a.x,d=g.b.y-g.a.y;var h=(-b*(e.a.x-g.a.x)+a*(e.a.y-g.a.y))/(-c*b+a*d),i=(c*(e.a.y-g.a.y)-d*(e.a.x-g.a.x))/(-c*b+a*d);return h>=0&&1>=h&&i>=0&&1>=i?f({x:e.a.x+i*a,y:e.a.y+i*b}):!1},h.doesLineIntersect=function(){return this.getLineIntersectionPoint()!==!1};var i=c.define(Object,g,h);b.exports=i},{"graphics/Point":"07NHAF","graphics/Vector":"Hli4CA",is:"P9m7US",obj:"DOFYxp"}],"graphics/Graphics":[function(a,b){b.exports=a("mC3JHL")},{}],mC3JHL:[function(a,b){var c=a("obj"),d=a("objects/Stack"),e=a("graphics/Camera"),f=(a("graphics/Point"),a("graphics/Canvas")),g=function(){this.canvasStack=d(function(a){return a instanceof f}),this.cameraStack=d(function(a){return a instanceof e})},h={};h.createCanvas=function(a){if(a){var b=f(a);this.canvasStack.push(a,b)}},h.getPrimaryCanvas=function(){return this.canvasStack.selected},h.getCanvas=h.getPrimaryCanvas,h.setPrimaryCanvas=function(a){this.canvasStack.select(a)},h.setCanvas=h.setPrimaryCanvas,h.setCamera=function(a){this.cameraStack.select(a)},h.addCamera=function(a){if(a){var b=e();this.cameraStack.push(a,b)}},h.draw=function(a,b,c){this.canvasStack.selected.draw(a,b,c)},h.clear=function(){this.canvasStack.selected.clear()},h.text=function(a,b){this.canvasStack.selected.text(a,b)},h.clingAll=function(){this.canvasStack.each(function(a){a.cling()})},h.cling=h.clingAll,h.bindCameraToCanvas=function(a,b){var c=this.canvasStack.get(b),d=this.cameraStack.get(a);c&&d&&c.useCamera(d)};var i=c.define(Object,g,h);b.exports=i},{"graphics/Camera":"NsksZx","graphics/Canvas":"gCPbFZ","graphics/Point":"07NHAF",obj:"DOFYxp","objects/Stack":"w0x1FX"}],"graphics/Point":[function(a,b){b.exports=a("07NHAF")},{}],"07NHAF":[function(a,b){var c=a("obj"),d=a("is"),e=function(a,b){!b&&d.Array(a)&&2==a.length?(this.x=a[0],this.y=a[1]):d.PlainObject(a)&&a.x&&a.y?(this.x=a.x,this.y=a.y):(this.x=d.Numeric(a)?a:0,this.y=d.Numeric(b)?b:0)},f={};f.rotate=function(a,b){if(!1==a instanceof g)throw new Error("You can only rotate a point around another Point.");var c=Math.cos(b),d=Math.sin(b),e={x:this.x-a.x,y:this.y-a.y},f={x:e.x*c-e.y*d,y:e.x*d+e.y*c};this.x=f.x+a.x,this.y=f.y+a.y},f.add=function(a,b){if(!1==a instanceof g)throw new Error("You can only add a another Point to Point object.");if(b){var c=this.x+a.x,d=this.y+a.y;return g(c,d)}return this.x+=a.x,this.y+=a.y,this},f.sub=function(a,b){if(!1==a instanceof g)throw new Error("You can only subtract a another Point to Point object.");if(b){var c=this.x-a.x,d=this.y-a.y;return g(c,d)}return this.x-=a.x,this.y-=a.y,this},f.invert=function(){return g(-this.x,-this.y)};var g=c.define(Object,e,f);b.exports=g},{is:"P9m7US",obj:"DOFYxp"}],"graphics/Polygon":[function(a,b){b.exports=a("S3SzPy")},{}],S3SzPy:[function(a,b){var c=a("obj"),d=a("graphics/Shape"),e=(a("graphics/Point"),function(){}),f={};f.inShot=function(a){a.getCanvas().inShot(this.shape)},f.render=function(a){this.inShot()&&a.getCanvas().draw(this.shape)},f.move=function(){},f.teleport=function(){},f.rotate=function(){},f.setAngle=function(){},f.containsPoint=function(){},f.pointInPolygon=f.containsPoint,f.detectCollision=function(){},f.getLineIntersectionPoint=function(){},f.doesLineIntersect=function(){},f.centroid=function(){},f.area=function(){};var g=c.define(d,e,f);b.exports=g},{"graphics/Point":"07NHAF","graphics/Shape":"rB+uTR",obj:"DOFYxp"}],"rB+uTR":[function(a,b){var c=a("obj"),d=function(){throw new Error("This class isn't meant for direct instantiation")},e={};e.stroke="698796",e.fill="132132",e.angle=2*Math.PI,e.inShot=function(){return!1},e.render=function(){};var f=c.define(Object,d,e);b.exports=f},{obj:"DOFYxp"}],"graphics/Shape":[function(a,b){b.exports=a("rB+uTR")},{}],"graphics/Vector":[function(a,b){b.exports=a("Hli4CA")},{}],Hli4CA:[function(a,b){var c=a("obj"),d=a("is"),e=a("graphics/Point"),f=function(a,b){if(!d.instanceOf(e,a)||!d.instanceOf(e,b))throw new Error("Vector constructor takes two Point objects.");this.a=a,this.b=b},g={};g.test=function(){console.log(this.a),console.log(this.b)},g.angle=function(){console.log(this.a),console.log(this.b)},g.distance=function(){console.log(this.a),console.log(this.b)};var h=c.define(Object,f,g);b.exports=h},{"graphics/Point":"07NHAF",is:"P9m7US",obj:"DOFYxp"}],HKUJiZ:[function(){},{}],"graphics/trig":[function(a,b){b.exports=a("HKUJiZ")},{}],P9m7US:[function(a,b){var c={};c.instanceOf=function(a,b){return!1!=b instanceof a},c.Type=function(a){function b(a){var b={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},c=b[a];return c?c:!1}return null===a?String(a):b({}.toString.call(a))||"object"},c.Array=Array.isArray||function(a){return"array"===c.Type(a)},c.Function=function(a){return"function"===c.Type(a)},c.inArray=function(a,b){for(var c=b.length,d=0;c>d;d++)if(b[d]==a)return!0;return!1},c.Window=function(a){return null!==a&&a==a.window},c.Numeric=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},c.String=function(a){return"string"==c.Type(a)},c.set=function(){var a,b=arguments,c=b.length,d=0;if(0===c)throw new Error("Empty is.set");for(;d!==c;){if(b[d]===a||null===b[d])return!1;d++}return!0},c.ObjectLiteral=function(a){if(!a||"object"!==c.Type(a)||a.nodeType)return!1;var b=Object.prototype.hasOwnProperty;try{if(a.constructor&&!b.call(a,"constructor")&&!b.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}var e;for(e in a);return void 0===e||b.call(a,e)},c.PlainObject=c.ObjectLiteral,b.exports=c},{}],is:[function(a,b){b.exports=a("P9m7US")},{}],obj:[function(a,b){b.exports=a("DOFYxp")},{}],DOFYxp:[function(a,b){var c=a("is"),d={};d.indexOf=function(a,b){for(var c=0;c<b.length;c++)if(b[c].id==a)return c};var e=hasOwnProperty||Object.prototype.hasOwnProperty,f=(Object.prototype.toString,!{toString:null}.propertyIsEnumerable("toString")),g=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=g.length;d.keys=function(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on non-object");var b=[];for(var c in a)e.call(a,c)&&b.push(c);if(f)for(var d=0;h>d;d++)e.call(a,g[d])&&b.push(g[d]);return b},d.extend=function(){var a,b,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(console.log("one"),k=h,h=arguments[1]||{},i=2),"object"==typeof h||c.Function(h)||(console.log("two"),h={}),j===i&&(console.log("three"),h=this,--i),i;j>i;i++)if(null!==(a=arguments[i]))for(b in a)d=h[b],e=a[b],h!==e&&(k&&e&&(c.PlainObject(e)||(f=c.Array(e)))?(f?(f=!1,g=d&&c.Array(d)?d:[]):g=d&&c.PlainObject(d)?d:{},h[b]=extend(k,g,e)):void 0!==e&&(h[b]=e));return h},d.define=function(a,b,c){var e,f=Object.create(a&&a.prototype);return c&&d.keys(c).forEach(function(a){f[a]=c[a]}),e=function(){var a=Object.create(f);return"function"==typeof b&&b.apply(a,arguments),a},d.keys(a).forEach(function(b){e[b]=a[b]}),e.prototype=f,f.constructor=e,e},d.identifier=function(a){var b,c,d,e,f=6;b=1;for(var g=0;f>g;g++)b*=16;a||0===a||(a=Math.floor(Math.random()*b)),a=a>=b?b-1:0>a?Math.abs(a):a,a%2&&(a=b-a),c=a%16,c=Math.abs((c%2?7:0)+Math.floor(c/2)),a+=b/16*c,a%=b,e=b/16/16;for(var h=0;3>h;h++)a+=(a%16+h)*e,p=4-h,a+=(a%256+5*p)*e,p%=2,a+=(a%16+7*p)*e,e/=16;for(a%=b,d=a.toString(16);d.length<6;)d="0"+d;return d},b.exports=d},{is:"P9m7US"}],"objects/Stack":[function(a,b){b.exports=a("w0x1FX")},{}],w0x1FX:[function(a,b){var c=a("obj"),d=function(a){var b,d={};this.push=function(b,c){a(c)&&(d[b]=c)},this.get=function(a){return this.hasKey(a)?d[a]:void 0},this.select=function(a){this.hasKey(a)?b=a:console.log("Stack does not contain key "+a+"!")},this.__defineGetter__("selected",function(){return d[b]?d[b]:void 0}),this.each=function(a){c.keys(d).forEach(function(b){a(d[b])})},this.hasKey=function(a){return d[a]?!0:!1}};b.exports=function(a){return a=a||function(a){return a},new d(a)}},{obj:"DOFYxp"}],"objects/Timer":[function(a,b){b.exports=a("y3F4VZ")},{}],y3F4VZ:[function(a,b){var c=a("obj"),d=function(){this.start=(new Date).getTime()},e={};e.restart=function(){this.start=(new Date).getTime()},e.elapsed=function(){return(new Date).getTime()-this.start},e.secondsElapsed=function(){return Math.floor(this.elapsed()/100)/10},e.delta=function(){this.delta.last||(this.delta.last=this.start);var a=(new Date).getTime(),b=a-this.delta.last;return this.delta.last=a,b},b.exports.str2ms=function(a){if("string"==typeof a){var b,c,d;return b="ms"==a.substring(a.length-2),c=a.substring(a.length-1),d=parseInt(a.replace(/[^0-9]/g,""),10),number="number"!=typeof d||isNaN(d)?0:d,a="m"!=c||b?"s"!=c||b?number:1e3*number:1e3*number*60}};var f=c.define(Object,d,e);b.exports=f},{obj:"DOFYxp"}],onload:[function(a,b){b.exports=a("+KSpms")},{}],"+KSpms":[function(a){var b=a("dom"),c=a("core/game");window.onload=function(){b.make("script",{src:"script.min.js",type:"text/javascript"},function(){c.init()})}},{"core/game":"dE1Bu5",dom:"qkALfs"}],poly:[function(a,b){b.exports=a("vARtDh")},{}],vARtDh:[function(){Array.prototype.forEach||(Array.prototype.forEach=function(){"use strict";var a,b;if(null===this)throw new TypeError("this is null or not defined");var c,d=Object(this),e=d.length>>>0;if("[object Function]"!=={}.toString.call(callback))throw new TypeError(callback+" is not a function");for(arguments.length>=2&&(a=thisArg),b=0;e>b;)b in d&&(c=d[b],callback.call(a,c,b,d)),b++});for(var a=0,b=["ms",";","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})},{}]},{},["vARtDh","+KSpms","AEEx6z","P9m7US","DOFYxp","qkALfs","y3F4VZ","w0x1FX","dE1Bu5","h5AJ9p","HKUJiZ","Hli4CA","07NHAF","8SM2KA","rB+uTR","S3SzPy","NsksZx","gCPbFZ","mC3JHL"]);
//# sourceMappingURL=topdown.min.map