{"version":3,"file":"topdown.min.js","sources":["topdown.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","time","is","game","init","beforeInit","afterInit","execute","func","forEach","Timer","render","onInit","Function","push","console","log","onBeforeInit","onAfterInit","frame","fps","current","previous","last","value","v","this","Math","floor","set","timeElapsed","secondsElapsed","delta","requestAnimationFrame","update","window","../is",2,"DOM","html5elements","isLegalElement","tag","inArray","audioSupport","mp3","ogg","audio","document","createElement","canPlayType","extractTag","match","RegExp","exec","name","selectors","buildAttributes","attrs","multipleElements","id","classes","input","replace","charAt","substring","splice","Array","prototype","make","selector","callback","append","array","appendto","properties","att","hasOwnProperty","setAttribute","onload","onreadystatechange","shift","$class","classList","add","get","appendChild","elements","target","selected","slice","getElementById","getElementsByClassName","getElementsByTagName","apply","each","on","action","addEventListener","hide","style","display","show","first","html","innerHTML","attr","removeAttr","removeAttribute","css","property","styles","getAttribute","Numeric","./is",3,"fn","wrap","number","randNum","num","ceil","random","chanceIn","oneIn","fromArray",4,"obj","Point","define","Object","x","y","point","rotate","axis","theta","cos","sin","transform","returnNewInstance","sub","invert","../obj",5,"Shape","Polygon","options","inShot","move","teleport","setAngle","pointInPolygon","detectCollision","getLineIntersectionPoint","doesLineIntersect","A1","A2","B1","B2","centroid","area","./Shape",6,"topdown","stroke","fill","angle","PI",7,"gfx","camera","position","modX","modY","offset","noffset","pointInShot","cam","canvas","getCanvasSize","./Point","./gfx",8,"context","ctx","canvasStack","pushCanvas","element","setCanvas","getContext","undefined","cling","canvRef","width","innerWidth","height","innerHeight","clearContext","ctxRef","clearRect","getCanvasCenter","size","loadImage","src","image","Image","text","fillStyle","fillText","refresh",9,10,"Type","classToType","str","class2type","[object Boolean]","[object Number]","[object String]","[object Function]","[object Array]","[object Date]","[object RegExp]","[object Object]","type","String","toString","isArray","needle","haystack","Window","object","isNaN","parseFloat","isFinite","undef","arguments","l","PlainObject","nodeType","hasOwn","constructor","key",11,"indexOf","nextIdIn","hasOwnProp","hasDontEnumBug","propertyIsEnumerable","dontEnums","dontEnumsLength","keys","TypeError","result","prop","extend","copy","copyIsArray","clone","deep","initializer","methods","create","that","identifier","seed","m","chunk","_id","mod","digits","d","abs","p",12,"start","Date","getTime","elapsed","lastDelta","now","str2ms","ms","lastChar","stripped","parseInt",13,"./core/game","./dom",14,"T","k","kValue","O","len","thisArg","lastTime","vendors","cancelAnimationFrame","currTime","timeToCall","max","setTimeout","clearTimeout"],"mappings":"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"}